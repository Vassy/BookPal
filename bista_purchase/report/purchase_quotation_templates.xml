<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_purchasequotation_document_inherit" inherit_id="purchase.report_purchasequotation_document">
        <xpath expr="//h2" position="attributes">
            <attribute name="style">margin-top: 15px;</attribute>
        </xpath>
        <xpath expr="//table[hasclass('table', 'table-sm')]" position="attributes">
            <attribute name="style">margin-top: 10px;</attribute>
        </xpath>
        <xpath expr="//h2" position="replace">
        </xpath>
        <xpath expr="//th[@name='th_expected_date']" position="replace">
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="after">
            <th name="th_uom" class="text-center">
                <strong>UOM</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_uom']" position="after">
            <th name="th_cover" class="text-center">
                <strong>Cover</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_cover']" position="after">
            <th name="th_Discount" class="text-center">
                <strong>Discount</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_Discount']" position="after">
            <th name="th_bp_price" class="text-center">
                <strong>BP Price</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_bp_price']" position="after">
            <th name="th_total" class="text-center">
                <strong>Total</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="attributes">
            <attribute name="class">text-center</attribute>
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="before">
            <th name="th_format" class="text-center">
                <strong>Format</strong>
            </th>
        </xpath>
        <xpath expr="//t[@t-if='not order_line.display_type']/td[2]" position="replace">
        </xpath>
        <xpath expr="//td[hasclass('text-right')]" position="replace">
            <td class="text-center" name="td_format" style="border-bottom: 1px solid black;">
                <t t-set="format" t-value="MMP"/>
                <span>MMP</span>
            </td>
            <td class="text-center" style="border-bottom: 1px solid black;">
                <span t-if="float(order_line.product_qty).is_integer()"
                      t-esc="int(order_line.product_qty)"/>
                <span t-if="not float(order_line.product_qty).is_integer()"
                      t-field="order_line.product_qty"/>
            </td>
            <td class="text-center" style="border-bottom: 1px solid black;">
                <span t-field="order_line.product_uom" groups="uom.group_uom"/>
            </td>
            <td class="text-right" name="td_price_unit" style="border-bottom: 1px solid black;">
                <span t-field="order_line.price_unit"/>
            </td>
            <td class="text-right" name="td_discount" style="border-bottom: 1px solid black;">
                <div>
                    <span t-field="order_line.discount"/>%
                </div>
            </td>
            <td class="text-right" name="td_bp_price" style="border-bottom: 1px solid black;">
                <div>
                    <span t-field="order_line.disc_price_unit"/>
                </div>
            </td>
            <td class="text-right bg-light" name="td_total" style="border-bottom: 1px solid black;">
                <span t-field="order_line.price_subtotal"/>
            </td>
        </xpath>
        <xpath expr="//t[@t-set='address']/div" position="before">
            <strong>SUPPLIER</strong>
        </xpath>
        <xpath expr="//table" position="attributes">
            <attribute name="style">margin-top:15px;</attribute>
        </xpath>
        <xpath expr="//th[@name='th_description']" position="before">
            <th name="th_sn" class="text-center">
                <strong>ISBN</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_description']" position="attributes">
            <attribute name="class">text-center</attribute>
        </xpath>
        <xpath expr="//td[@id='product']" position="attributes">
            <attribute name="style">border-bottom: 1px solid black;</attribute>
        </xpath>
        <!--        <xpath expr="//t[@t-foreach='o.order_line']" position="before">-->
        <!--            <span t-esc="sn"/>-->
        <!--        </xpath>-->
        <xpath expr="//t[@t-if='not order_line.display_type']/td[1]" position="before">
            <td name="td_sn" class="text-center" style="border-bottom: 1px solid black;">
                <span t-field="order_line.product_id.default_code"/>
                <!--                <br/>-->
                <!--                <t t-set="sn" t-value="sn+1"/>-->
            </td>
        </xpath>
        <xpath expr="//thead" position="attributes">
            <attribute name="style"></attribute>
        </xpath>
        <xpath expr="//table[hasclass('table', 'table-sm')]" position="before">
            <t t-if="o.special_pick_note">
                <div class='row mt-4'>
                    <div class="col-12" style="margin-left: 5px; margin-bottom: 20px; ">
                        <strong>Special Instructions and Notes</strong>
                        <!--                        <div clas="text-center" style="border-top: 1px solid black;">-->
                        <!--                        </div>-->
                        <p t-field="o.special_pick_note"
                           style="border-top: 1px solid black; margin-top: 1px;"/>
                    </div>
                </div>
            </t>
        </xpath>
        <xpath expr="//p[@t-field='o.notes']" position="replace">
            <div class="mt-5 mx-3" t-if="o.notes">
                <strong>Purchase Order Terms and
                    Conditions
                </strong>
                <!--                    <hr class="mt-0 mb-1"/>-->
                <p class="mb-1" t-field="o.notes" style="margin-left: 50px;"/>
            </div>
        </xpath>
    </template>
    <template id="report_purchasequotation_document_extended2"
              inherit_id="purchase_stock.report_purchasequotation_document">
        <xpath expr="//t[@t-else='']" position="replace">
            <t t-else="">
                <t t-set="information_block">
                    <strong>SHIP TO ADDRESS:</strong>
                    <div t-if="o.picking_type_id and o.picking_type_id.warehouse_id">
                        <span t-field="o.picking_type_id.warehouse_id.name"/>
                        <div t-field="o.picking_type_id.warehouse_id.partner_id"
                             t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                    </div>
                </t>
            </t>
        </xpath>
    </template>

    <!--    <template id="document_tax_totals_extended" inherit_id="account.document_tax_totals">-->
    <!--        <xpath expr="//td[1]" position="replace">-->
    <!--            <td style="border-right: 1px solid black;">Subtotal</td>-->
    <!--        </xpath>-->

    <!--        <xpath expr="//t[@t-as='subtotal']" position="before">-->

    <!--            <tr class="border-black o_subtotal">-->
    <!--                <td>-->
    <!--                    <span>Without Disc Total</span>-->
    <!--                </td>-->
    <!--                <td class="text-right" style="border-left: 1px solid black; margin-right: 5px;">-->
    <!--                    <span t-field="o.without_disc_amount_untaxed"/>-->
    <!--                </td>-->
    <!--            </tr>-->
    <!--            <tr class="border-black o_subtotal">-->
    <!--                <td>-->
    <!--                    <span>Discount</span>-->
    <!--                </td>-->
    <!--                <td class="text-right" style="border-left: 1px solid black; margin-right: 5px;">-->
    <!--                    <span t-field="o.total_discount_amount"/>-->
    <!--                </td>-->
    <!--            </tr>-->
    <!--            <t t-if="'groups_by_subtotal' in tax_totals and len(tax_totals['groups_by_subtotal']) == 0">-->
    <!--                <tr class="border-black o_subtotal">-->
    <!--                    <td>-->
    <!--                        <span>Subtotal</span>-->
    <!--                    </td>-->
    <!--                    <td class="text-right" style="border-left: 1px solid black; margin-right: 5px;">-->
    <!--                        $-->
    <!--                        <span t-esc="0.0"/>-->
    <!--                        &lt;!&ndash;                        <span t-esc="tax_totals"/>&ndash;&gt;-->
    <!--                    </td>-->
    <!--                </tr>-->
    <!--                <tr class="border-black o_subtotal">-->
    <!--                    <td>-->
    <!--                        <span>Tax</span>-->
    <!--                    </td>-->
    <!--                    <td class="text-right" style="border-left: 1px solid black; margin-right: 5px;">-->
    <!--                        $-->
    <!--                        <span t-esc="0.0"/>-->
    <!--                        &lt;!&ndash;                        <span t-esc="tax_totals"/>&ndash;&gt;-->
    <!--                    </td>-->
    <!--                </tr>-->
    <!--            </t>-->
    <!--        </xpath>-->
    <!--        <xpath expr="//tr[hasclass('o_total')]" position="before">-->
    <!--            <tr class="border-black o_subtotal">-->
    <!--                <td>-->
    <!--                    <span>Shipping</span>-->
    <!--                </td>-->
    <!--                <td class="text-right" style="border-left: 1px solid black; margin-right: 5px;">-->
    <!--                    <div>-->
    <!--                        $-->
    <!--                        <span t-esc="0.0"/>-->
    <!--                    </div>-->
    <!--                </td>-->
    <!--            </tr>-->
    <!--        </xpath>-->
    <!--    </template>-->
</odoo>
