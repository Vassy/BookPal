<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="report_purchasequotation_document_inherit" inherit_id="purchase.report_purchasequotation_document">
        <xpath expr="//h2" position="attributes">
            <attribute name="style">margin-top: 15px;</attribute>
        </xpath>
        <xpath expr="//h2" position="replace">
        </xpath>
        <xpath expr="//th[@name='th_expected_date']" position="replace">
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="after">
            <th name="th_uom" class="text-center">
                <strong>UOM</strong>
            </th>
        </xpath>
        <xpath expr="//th[@name='th_quantity']" position="attributes">
            <attribute name="class">text-center</attribute>
        </xpath>
        <xpath expr="//th[@name='th_uom']" position="before">
            <th name="th_format" class="text-center">
                <strong>Format</strong>
            </th>
        </xpath>
        <xpath expr="//t[@t-if='not order_line.display_type']/td[2]" position="replace">
        </xpath>
        <xpath expr="//td[hasclass('text-right')]" position="replace">
            <td class="text-center">
                <span t-if="float(order_line.product_qty).is_integer()"
                      t-esc="int(order_line.product_qty)"/>
                <span t-if="not float(order_line.product_qty).is_integer()"
                      t-field="order_line.product_qty"/>
            </td>
            <td class="text-center">
                <span t-field="order_line.product_uom" groups="uom.group_uom"/>
            </td>
        </xpath>
        <xpath expr="//t[@t-set='address']/div" position="before">
            <strong>SUPPLIER</strong>
        </xpath>
        <xpath expr="//table" position="attributes">
            <attribute name="style">margin-top:15px;</attribute>
        </xpath>
        <xpath expr="//th[@name='th_description']" position="before">
            <th name="th_sn" class="text-center">
                <strong>SN</strong>
            </th>
        </xpath>
        <xpath expr="//t[@t-foreach='o.order_line']" position="before">
            <t t-set="sn" t-value="1"/>
        </xpath>
        <xpath expr="//t[@t-if='not order_line.display_type']/td[1]" position="before">
            <td name="td_sn" class="text-center">
                <span t-esc="sn"/>
                <br/>
                <t t-set="sn" t-value="sn+1"/>
            </td>
        </xpath>
        <xpath expr="//thead" position="attributes">
            <attribute name="style"></attribute>
        </xpath>
    </template>

    <template id="report_purchasequotation_document_extended2"
              inherit_id="purchase_stock.report_purchasequotation_document">
        <xpath expr="//t[@t-else='']" position="replace">
            <t t-else="">
                <t t-set="information_block">
                    <strong>SHIP TO ADDRESS:</strong>
                    <div t-if="o.picking_type_id and o.picking_type_id.warehouse_id">
                        <span t-field="o.picking_type_id.warehouse_id.name"/>
                        <div t-field="o.picking_type_id.warehouse_id.partner_id"
                             t-options='{"widget": "contact", "fields": ["address", "phone"], "no_marker": True, "phone_icons": True}'/>
                    </div>
                </t>
            </t>
        </xpath>
    </template>
</odoo>
